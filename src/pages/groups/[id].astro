---
import { Student } from "astro:db";
import { StudentGroup } from "astro:db";
import { db, Group, eq } from "astro:db";

const { id } = Astro.params;
const [group] = await db.select().from(Group).where(eq(Group.id, id));

const studens = await db
  .select({ Student })
  .from(Student)
  // .where(eq(Student.id, id as string))
  .innerJoin(StudentGroup, eq(Student.id, StudentGroup.studentId))
  .fullJoin(Group, eq(StudentGroup.groupId, Group.id))
  .where(eq(Group.id, id));
---

<pre>{JSON.stringify({group, studens }, null, 2)}</pre>
